import{_ as s,c as i,o as a,R as n}from"./chunks/framework.CLnJRdJO.js";const m=JSON.parse('{"title":"NPM 配置文件 .npmrc","description":"","frontmatter":{"tags":["npm","npmrc","nodejs","electron","node-sass"]},"headers":[],"relativePath":"tech/frontend/npmrc.md","filePath":"tech/frontend/npmrc.md","lastUpdated":1701662868000}'),t={name:"tech/frontend/npmrc.md"},e=n(`<h1 id="npm-配置文件-npmrc" tabindex="-1">NPM 配置文件 <code>.npmrc</code> <a class="header-anchor" href="#npm-配置文件-npmrc" aria-label="Permalink to &quot;NPM 配置文件 \`.npmrc\`&quot;">​</a></h1><blockquote><p>官方文档：<a href="https://docs.npmjs.com/cli/v9/configuring-npm/npmrc" target="_blank" rel="noreferrer">https://docs.npmjs.com/cli/v9/configuring-npm/npmrc</a></p></blockquote><h2 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h2><p>文件可以存在四个位置，具有不同的作用域：</p><ul><li>项目配置文件：在项目根目录创建 <code>.npmrc</code> 文件作为当前项目的 NPM 配置文件。</li><li>用户配置文件：在当前用户根目录 <code>~/.npmrc</code> 创建文件作为当前用户的 NPM 配置文件。</li><li>全局配置文件：使用 <code>npm config get prefix</code> 获取 NPM 全局安装路径，使用获取的路径加上 <code>.../etc/.npmrc</code> 获取全局配置文件，当前配置文件作用于所有用户。</li><li>NPM 内置配置文件：放置于 <code>/path/to/npm/npmrc</code>，不可修改。</li></ul><p>所有 npm 配置文件都是 <code>ini</code> 格式的参数列表:</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = value</span></span></code></pre></div><p>可以直接修改文件，也可以使用 NPM 命令进行配置：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">valu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [&lt;key&gt;=&lt;value&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">...]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">valu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [&lt;key&gt;=&lt;value&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">...]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [&lt;key&gt; [&lt;key&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">...]]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [&lt;key&gt; [&lt;key&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">...]]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 显示所有配置（可显示为 json 结构）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--json]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从所有配置文件中删除指定 key</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [&lt;key&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">...]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># VIM 模式编辑配置文件，默认用户配置文件，-g 编辑全局配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> edit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-g]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 尝试修复无效的配置项目</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fix</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 命令别名: c</span></span></code></pre></div><h2 id="用途" tabindex="-1">用途 <a class="header-anchor" href="#用途" aria-label="Permalink to &quot;用途&quot;">​</a></h2><h3 id="配置默认镜像源" tabindex="-1">配置默认镜像源 <a class="header-anchor" href="#配置默认镜像源" aria-label="Permalink to &quot;配置默认镜像源&quot;">​</a></h3><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 切换为国内源，避免安装依赖超时</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">registry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = https://registry.npmmirror.com</span></span></code></pre></div><p>可选源：</p><ul><li>阿里 - <a href="https://registry.npmmirror.com" target="_blank" rel="noreferrer">https://registry.npmmirror.com</a></li><li>腾讯 - <a href="http://mirrors.cloud.tencent.com/npm/" target="_blank" rel="noreferrer">http://mirrors.cloud.tencent.com/npm/</a></li><li>华为 - <a href="https://repo.huaweicloud.com/repository/npm/" target="_blank" rel="noreferrer">https://repo.huaweicloud.com/repository/npm/</a></li></ul><h3 id="配置软件包镜像源" tabindex="-1">配置软件包镜像源 <a class="header-anchor" href="#配置软件包镜像源" aria-label="Permalink to &quot;配置软件包镜像源&quot;">​</a></h3><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Node-Sass</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">sass_binary_site</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = https://npmmirror.com/mirrors/node-sass/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Electron</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">electron_mirror</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = https://npmmirror.com/mirrors/electron/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Node.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">disturl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = https://npmmirror.com/dist</span></span></code></pre></div><p>Node.js 可选源：</p><ul><li>阿里 - <a href="https://npmmirror.com/mirrors/node-sass/" target="_blank" rel="noreferrer">https://npmmirror.com/mirrors/node-sass/</a></li><li>华为 - <a href="https://repo.huaweicloud.com/node-sass" target="_blank" rel="noreferrer">https://repo.huaweicloud.com/node-sass</a></li></ul><p>Electron 可选源：</p><ul><li>阿里 - <a href="https://npmmirror.com/mirrors/electron/" target="_blank" rel="noreferrer">https://npmmirror.com/mirrors/electron/</a></li><li>华为 - <a href="https://repo.huaweicloud.com/electron/" target="_blank" rel="noreferrer">https://repo.huaweicloud.com/electron/</a></li></ul><p>Node.js 可选源：</p><ul><li>阿里 - <a href="https://npmmirror.com/dist" target="_blank" rel="noreferrer">https://npmmirror.com/dist</a></li><li>华为 - <a href="https://repo.huaweicloud.com/nodejs" target="_blank" rel="noreferrer">https://repo.huaweicloud.com/nodejs</a></li></ul>`,22),l=[e];function p(h,r,k,o,c,d){return a(),i("div",null,l)}const F=s(t,[["render",p]]);export{m as __pageData,F as default};
